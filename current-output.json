{\n  "batch" : [ model [ $not ( flocDetails . flocDetails . lvorm = "X" ) ] . ( { "pointId" : flocDetails\n          . flocDetails . tplnr ,\n        "pointName" : flocDetails . flocDetails . pltxt ,\n        "assignmentPointType" : $$ . properties . assignmentPointType ,\n        "subSiteId" : $$ . properties . subsiteId ,\n        "coordinatesString" : "POINT (0 0)" ,\n        "attributeValues" : [ { "attributeName" : "SAP Functional Location" ,\n            "attributeValue" : flocDetails . flocDetails . tplnr ,\n            "dataType" : "varchar" } , flocDetails . flocDetails . swerk flocDetails . mainWorkCenter ? { "attributeName" : "Main Work Center" ,\n            "attributeValue" : flocDetails . flocDetails . swerk & "/" & flocDetails\n              . mainWorkCenter ,\n            "dataType" : "varchar" } , flocDetails . flocDetails . ingrp flocDetails . flocDetails . iwerk ? { "attributeName" : "Planner Group" ,\n            "attributeValue" : flocDetails . flocDetails . iwerk & "/" & flocDetails\n              . flocDetails . ingrp ,\n            "dataType" : "varchar" } , flocDetails . flocDetails . rbnr ? { "attributeName" : "Catalogue Profile" ,\n            "attributeValue" : flocDetails . flocDetails . rbnr ,\n            "dataType" : "varchar" } , flocDetails . flocDetails . eqart ? { "attributeName" : "Object Type" ,\n            "attributeValue" : flocDetails . flocDetails . eqart ,\n            "dataType" : "varchar" } , flocDetails . flocDetails . zzAssetClass ? { "attributeName" : "Class" ,\n            "attributeValue" : flocDetails . flocDetails . zzAssetClass ,\n            "dataType" : "varchar" } ]\n        ~> $append ( $contains ( flocDetails . flocDetails . tplnr , "-" ) ? [ { "attributeName" : "Parent Floc" ,\n              "attributeValue" : $replace ( flocDetails . flocDetails . tplnr , /-[^- ]+$/ , "" ) ,\n              "dataType" : "varchar" } ] : [] ) ~> $append ( flocPermits . permitDescription ? { "attributeName" : "Permits" ,\n            "attributeValue" : flocPermits . permitDescription ,\n            "dataType" : "varchar" } ) ~> $append ( flocLinearData ? [ flocLinearData . startPoint ? { "attributeName" : "Start Point" ,\n              "attributeValue" : $string ( flocLinearData . startPoint ) ,\n              "dataType" : "varchar" } , flocLinearData . endPoint ? { "attributeName" : "End Point" ,\n              "attributeValue" : $string ( flocLinearData . endPoint ) ,\n              "dataType" : "varchar" } , flocLinearData . linearLength ? { "attributeName" : "Length" ,\n              "attributeValue" : $string ( flocLinearData . linearLength ) ,\n              "dataType" : "varchar" } , flocLinearData . lrpid ? { "attributeName" : "LRP" ,\n              "attributeValue" : flocLinearData . lrpid ,\n              "dataType" : "varchar" } ] : [] ) ~> $append ( $filter ( $map ( flocCharacteristics , ( $char ) {\n                /* Check for match and create attribute object in one step */\n                $filter ( $$ . properties . obzCharacteristics , ( $obz ) { $lowercase ( $obz . Column1 ) = $lowercase ( $char . charDescription ) } ) ?\n                {\n                  "attributeName" : $char . charDescription ,\n                  "attributeValue" : $char . charValue ,\n                  "dataType" : "varchar" } : } ) , ( $item ) { $item != } ) ) } ) ]\n  ,\n  "allowInvalidParents" : }